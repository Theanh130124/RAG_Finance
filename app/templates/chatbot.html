{% extends 'layout/base.html' %}

{% block title %}Chatbot T∆∞ V·∫•n T√†i Ch√≠nh{% endblock %}

{% block additional_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/chatbot.css') }}">
{% endblock %}

{% block content %}
<div class="chatbot-wrapper mt-4">
    <!-- Chat History Sidebar -->
    <aside class="chatbot-sidebar" id="chatbot-sidebar">
        <div class="sidebar-header">
            <h3 class="sidebar-title">
                <i class="fas fa-history"></i>L·ªãch S·ª≠ T∆∞ V·∫•n
            </h3>
        </div>

        <div class="sidebar-content">
            <div class="chat-history" id="chat-history">
                <!-- Chat history will be populated here -->
                <div class="empty-state">
                    <i class="fas fa-comments"></i>
                    <p>Ch∆∞a c√≥ cu·ªôc t∆∞ v·∫•n n√†o</p>
                </div>
            </div>
        </div>

        <div class="sidebar-footer">
            <button class="btn-clear-history" id="clear-history-btn" title="X√≥a t·∫•t c·∫£ l·ªãch s·ª≠">
                <i class="fas fa-trash"></i>X√≥a l·ªãch s·ª≠
            </button>
            <button class="btn-new-chat" id="new-chat-btn" title="T∆∞ v·∫•n m·ªõi">
                <i class="fas fa-plus"></i>T∆∞ v·∫•n m·ªõi
            </button>
        </div>
    </aside>

    <!-- Main Chat Area -->
    <main class="chatbot-main">
        <div class="chatbot-container">
            <!-- Chat Header -->
            <div class="chat-header">
                <div class="chat-title">
                    <i class="fas fa-chart-line"></i>
                    <h2>Chuy√™n Gia T∆∞ V·∫•n T√†i Ch√≠nh</h2>
                    <span class="badge badge-beta">Pro</span>
                </div>
                <div class="chat-actions">
                    <button class="action-btn" id="clear-chat" title="X√≥a cu·ªôc t∆∞ v·∫•n hi·ªán t·∫°i">
                        <i class="fas fa-trash"></i>
                    </button>
                    <button class="action-btn" id="info-btn" title="Th√¥ng tin">
                        <i class="fas fa-info-circle"></i>
                    </button>
                </div>
            </div>

            <!-- Messages Area -->
            <div class="chat-messages" id="chat-messages">
                <div class="message bot">
                    <div class="message-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="message-content">
                        <p><strong>Xin ch√†o! üëã</strong></p>
                        <p>T√¥i l√† chuy√™n gia t∆∞ v·∫•n t√†i ch√≠nh c√° nh√¢n th√¥ng minh. T√¥i c√≥ th·ªÉ gi√∫p b·∫°n v·ªõi:</p>
                        <ul>
                            <li>L·∫≠p k·∫ø ho·∫°ch t√†i ch√≠nh c√° nh√¢n</li>
                            <li>T∆∞ v·∫•n ƒë·∫ßu t∆∞ th√¥ng minh</li>
                            <li>Qu·∫£n l√Ω ng√¢n s√°ch v√† chi ti√™u</li>
                            <li>L·∫≠p k·∫ø ho·∫°ch h∆∞u tr√≠</li>
                            <li>T·ªëi ∆∞u h√≥a thu·∫ø thu nh·∫≠p</li>
                            <li>Qu·∫£n l√Ω n·ª£ v√† t√≠n d·ª•ng</li>
                        </ul>
                        <p>H√£y ch·ªçn m·ªôt ch·ªß ƒë·ªÅ b√™n d∆∞·ªõi ho·∫∑c ƒë·∫∑t c√¢u h·ªèi tr·ª±c ti·∫øp!</p>
                        <div class="message-time">B√¢y gi·ªù</div>
                    </div>
                </div>
            </div>

            <!-- Suggestions -->
            <div class="suggestions-container" id="suggestions-container">
                <div class="suggestions-label">Ch·ªß ƒë·ªÅ t√†i ch√≠nh ph·ªï bi·∫øn:</div>
                <div class="suggestions" id="suggestions">
                    <button class="suggestion-btn" data-topic="saving">
                        <i class="fas fa-piggy-bank me-2"></i>Ti·∫øt ki·ªám hi·ªáu qu·∫£
                    </button>
                    <button class="suggestion-btn" data-topic="investment">
                        <i class="fas fa-chart-line me-2"></i>ƒê·∫ßu t∆∞ an to√†n
                    </button>
                    <button class="suggestion-btn" data-topic="stock">
                        <i class="fas fa-chart-bar me-2"></i>ƒê·∫ßu t∆∞ ch·ª©ng kho√°n
                    </button>
                    <button class="suggestion-btn" data-topic="insurance">
                        <i class="fas fa-shield-alt me-2"></i>B·∫£o hi·ªÉm c·∫ßn thi·∫øt
                    </button>
                    <button class="suggestion-btn" data-topic="retirement">
                        <i class="fas fa-umbrella-beach me-2"></i>K·∫ø ho·∫°ch h∆∞u tr√≠
                    </button>
                    <button class="suggestion-btn" data-topic="budget">
                        <i class="fas fa-calculator me-2"></i>L·∫≠p ng√¢n s√°ch
                    </button>
                    <button class="suggestion-btn" data-topic="debt">
                        <i class="fas fa-credit-card me-2"></i>Qu·∫£n l√Ω n·ª£
                    </button>
                    <button class="suggestion-btn" data-topic="tax">
                        <i class="fas fa-file-invoice-dollar me-2"></i>T·ªëi ∆∞u thu·∫ø
                    </button>
                </div>
            </div>

            <!-- Input Area -->
            <div class="chat-input-container">
                <div class="input-group">
                    <input
                        type="text"
                        class="chat-input"
                        id="chat-input"
                        placeholder="Nh·∫≠p c√¢u h·ªèi t√†i ch√≠nh c·ªßa b·∫°n..."
                        autocomplete="off"
                    >
                    <button class="send-button" id="send-button" title="G·ª≠i c√¢u h·ªèi">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                <div class="input-hint">
                    <small>üí° V√≠ d·ª•: "L√†m sao ƒë·ªÉ ti·∫øt ki·ªám 20% thu nh·∫≠p h√†ng th√°ng?"</small>
                </div>
            </div>
        </div>
    </main>
</div>

<!-- Info Modal -->
<div class="modal fade" id="infoModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <i class="fas fa-info-circle me-2"></i>V·ªÅ Chuy√™n Gia T√†i Ch√≠nh
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <p><strong>Chuy√™n Gia T∆∞ V·∫•n T√†i Ch√≠nh Th√¥ng Minh</strong></p>
                <p>ƒê√¢y l√† c√¥ng c·ª• t∆∞ v·∫•n t√†i ch√≠nh c√° nh√¢n d·ª±a tr√™n tr√≠ tu·ªá nh√¢n t·∫°o v√† c∆° s·ªü tri th·ª©c t√†i ch√≠nh.</p>
                <div class="alert alert-info">
                    <strong>‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng:</strong>
                    <ul>
                        <li>Th√¥ng tin ch·ªâ mang t√≠nh ch·∫•t tham kh·∫£o v√† gi√°o d·ª•c</li>
                        <li>Kh√¥ng ph·∫£i l·ªùi khuy√™n ƒë·∫ßu t∆∞ ch√≠nh th·ª©c</li>
                        <li>Lu√¥n tham kh·∫£o chuy√™n gia t√†i ch√≠nh tr∆∞·ªõc khi ƒë∆∞a ra quy·∫øt ƒë·ªãnh</li>
                        <li>Hi·ªáu qu·∫£ ƒë·∫ßu t∆∞ ph·ª• thu·ªôc v√†o nhi·ªÅu y·∫øu t·ªë th·ªã tr∆∞·ªùng</li>
                    </ul>
                </div>
                <p><strong>Ph·∫°m vi t∆∞ v·∫•n:</strong></p>
                <ul>
                    <li>L·∫≠p k·∫ø ho·∫°ch t√†i ch√≠nh c√° nh√¢n</li>
                    <li>Qu·∫£n l√Ω ng√¢n s√°ch v√† chi ti√™u</li>
                    <li>Ki·∫øn th·ª©c ƒë·∫ßu t∆∞ c∆° b·∫£n</li>
                    <li>T·ªëi ∆∞u thu·∫ø thu nh·∫≠p</li>
                    <li>L·∫≠p k·∫ø ho·∫°ch h∆∞u tr√≠</li>
                    <li>Qu·∫£n l√Ω n·ª£ v√† t√≠n d·ª•ng</li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block additional_js %}
<script src="{{ url_for('static', filename='js/chatbot.js') }}"></script>
{% endblock %}